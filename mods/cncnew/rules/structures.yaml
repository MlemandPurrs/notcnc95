FACT:
	Inherits: ^BaseBuilding
	Inherits@shape: ^3x2Shape
	HitShape:
		UseTargetableCellsOffsets: true
		Type: Rectangle
			TopLeft: -1536, -1024
			BottomRight: 1536, 1024
	Selectable:
		Bounds: 72,48
	Valued:
		Cost: 3000
	Tooltip:
		Name: Construction Yard
    TooltipExtras:
        Strengths:  Allows to build Structures and Defenses
	Building:
		Footprint: xxx xxx ===
		Dimensions: 3,3
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 200000
	Armor:
		Type: Heavy
	RevealsShroud:
		Range: 10c0
	Production:
		Produces: Building.GDI, Building.Nod, Defence.GDI, Defence.Nod
		PauseOnCondition: build-incomplete
	Transforms:
		RequiresCondition: factundeploy && !build-incomplete
		PauseOnCondition:  being-captured || being-demolished || build-incomplete
		IntoActor: mcv
		Offset: 1,1
		Facing: 432
	TransformsIntoMobile:
		RequiresCondition: factundeploy
		Locomotor: heavywheeled
		RequiresForceMove: true
	TransformsIntoPassenger:
		RequiresCondition: factundeploy
		CargoType: Vehicle
		RequiresForceMove: true
	TransformsIntoRepairable:
		RequiresCondition: factundeploy
		RepairActors: fix
		RequiresForceMove: true
	TransformsIntoTransforms:
		RequiresCondition: factundeploy && build-incomplete
	TransferTimedExternalConditionOnTransform:
		Condition: invulnerability
	GrantConditionOnPrerequisite@GLOBALFACTUNDEPLOY:
		Condition: factundeploy
		Prerequisites: global-factundeploy
	ProductionQueue@GDIBuilding:
		Type: Building.GDI
		DisplayOrder: 0
		Factions: gdi
		Group: Building
		LowPowerModifier: 150
		ReadyAudio: ConstructionComplete
		BlockedAudio: NoBuild
		LimitedAudio: BuildingInProgress
		QueuedAudio: Building
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
	ProductionQueue@NodBuilding:
		Type: Building.Nod
		DisplayOrder: 0
		Factions: nod
		Group: Building
		LowPowerModifier: 150
		ReadyAudio: ConstructionComplete
		BlockedAudio: NoBuild
		LimitedAudio: BuildingInProgress
		QueuedAudio: Building
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
	ProductionQueue@GDIDefense:
		Type: Defence.GDI
		DisplayOrder: 1
		Factions: gdi
		Group: Defence
		LowPowerModifier: 150
		ReadyAudio: ConstructionComplete
		BlockedAudio: NoBuild
		LimitedAudio: BuildingInProgress
		QueuedAudio: Building
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
	ProductionQueue@NodDefense:
		Type: Defence.Nod
		DisplayOrder: 1
		Factions: nod
		Group: Defence
		LowPowerModifier: 150
		ReadyAudio: ConstructionComplete
		BlockedAudio: NoBuild
		LimitedAudio: BuildingInProgress
		QueuedAudio: Building
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
	BaseBuilding:
	ProductionBar@BuildingGDI:
		ProductionType: Building.GDI
        Color: 5050FC
	ProductionBar@BuildingNod:
		ProductionType: Building.Nod
        Color: 5050FC
	ProductionBar@DefenceGDI:
		ProductionType: Defence.GDI
		Color: 0000A8
	ProductionBar@DefenceNod:
		ProductionType: Defence.Nod
		Color: 0000A8
	BaseProvider:
		PauseOnCondition: being-captured
		Range: 16c0
	WithBuildingBib:
	WithBuildingPlacedAnimation:
		RequiresCondition: !build-incomplete
	Power:
		Amount: 50
		RequiresCondition: !build-incomplete
	ProvidesPrerequisite@buildingname:
	Buildable:
		Description: Builds structures
	RenderSprites:
		Image: fact
		FactionImages:
			gdi: gdifact
			nod: nodfact
	SpawnActorOnDeath:
		Actor: fact.husk
        EffectiveOwnerFromOwner: true
	AcceptsDeliveredCash:
		ValidTypes: MoneyTransfer
        #   Sounds: credito1.aud
        #   Nope, this needs a proper Notification support
    GrantConditionOnBotOwner@allowGDIai:
        Condition: is-ai-gdi
        Bots: normal
    GrantConditionOnFaction@allowNod:
        Condition: is-nod-player
        Factions: nod
        ResetOnOwnerChange: true
	ProvidesPrerequisite@allowedtobuildHq:
		Prerequisite: can-build-hq-finale
		RequiresCondition: is-nod-player || is-ai-gdi
        ResetOnOwnerChange: true

FACT.Husk:
	Inherits: ^BuildingHusk
	Interactable:
		Bounds: 72,48
	Building:
		Footprint: xxx xxx ===
		Dimensions: 3,3
		LocalCenterOffset: 0,-512,0
	Tooltip:
		Name: Construction Yard (Destroyed)
	RenderSprites:
		Image: fact.husk
		FactionImages:
			gdi: gdifact.husk
			nod: nodfact.husk

NUKE:
	Inherits: ^BaseBuilding
	Inherits@shape: ^2x2Shape
	Selectable:
		Bounds: 48,48
	HitShape:
		TargetableOffsets: 630,299,0
	Valued:
		Cost: 350
	Tooltip:
		Name: Power Plant
    TooltipExtras:
        Attributes:  Power amount scales with damage
	ProvidesPrerequisite:
		Prerequisite: anypower
	Buildable:
		BuildPaletteOrder: 7
		Prerequisites: fact, ~techlevel.low
		Queue: Building.GDI, Building.Nod
		Description: Generates a standard amount of power.
	Building:
		Footprint: Xx xx
		Dimensions: 2,2
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 60000
	Armor:
		Type: Structure
	RevealsShroud:
		Range: 3c0
	WithBuildingBib:
	Power:
		Amount: 100
		RequiresCondition: !build-incomplete
	ScalePowerWithHealth:
	RenderSprites:
		Image: nuke
		FactionImages:
			nod: nodnuke
	SpawnActorOnDeath:
		Actor: nuke.husk
        EffectiveOwnerFromOwner: true        
	WithIdleOverlay@SMOKE:
		RequiresCondition: !build-incomplete && critical-for-smoke
		Sequence: idle-smoke
	GrantConditionOnPowerState@CRITICAL:
		Condition: critical-for-smoke
		ValidPowerStates: Low, Critical

NUKE.Husk:
	Inherits: ^BuildingHusk
	Interactable:
		Bounds: 48,48
	Building:
		Footprint: xx xx
		Dimensions: 2,2
		LocalCenterOffset: 0,-512,0
	Tooltip:
		Name: Power Plant (Destroyed)
	RenderSprites:
		Image: nuke.husk
		FactionImages:
			nod: nodnuke.husk

NUK2:
	Inherits: ^BaseBuilding
	Inherits@shape: ^2x2Shape
	Selectable:
		Bounds: 48,48
	HitShape:
		TargetableOffsets: 630,299,0
    #   there, 50 cheaper than two regular PP.
	Valued:
		Cost: 650
	Tooltip:
		Name: Advanced Power Plant
    #   ha ! in the original its the other way around...
    TooltipExtras:
        Strengths:  Cheaper than keep building the standard Power Plant
        Attributes:  Power amount scales with damage
	ProvidesPrerequisite:
		Prerequisite: anypower
	Buildable:
		BuildPaletteOrder: 10
		Prerequisites: hq, ~techlevel.medium
		Queue: Building.GDI, Building.Nod
		Description: Generates double the amount of a standard Power Plant.
	Building:
		Footprint: Xx xx
		Dimensions: 2,2
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 90000
	Armor:
		Type: Structure
	RevealsShroud:
		Range: 3c0
	WithBuildingBib:
	Power:
		Amount: 200
		RequiresCondition: !build-incomplete
	ScalePowerWithHealth:
	RenderSprites:
		Image: nuk2
		FactionImages:
			nod: nodnuk2
	SpawnActorOnDeath:
		Actor: nuk2.husk
        EffectiveOwnerFromOwner: true
	WithIdleOverlay@SMOKE:
		RequiresCondition: !build-incomplete && critical-for-smoke
		Sequence: idle-smoke
	GrantConditionOnPowerState@CRITICAL:
		Condition: critical-for-smoke
		ValidPowerStates: Low, Critical

NUK2.Husk:
	Inherits: ^BuildingHusk
	Interactable:
		Bounds: 48,48
	Building:
		Footprint: xx xx
		Dimensions: 2,2
		LocalCenterOffset: 0,-512,0
	Tooltip:
		Name: Advanced Power Plant (Destroyed)
	RenderSprites:
		Image: nuk2.husk
		FactionImages:
			nod: nodnuk2.husk

PROC:
	Inherits: ^BaseBuilding
	Inherits@RESOURCES: ^StoresResources
	HitShape:
		UseTargetableCellsOffsets: true
		Type: Rectangle
			TopLeft: -1536, -1024
			BottomRight: 1536, 1024
	Valued:
		Cost: 1500
	Tooltip:
		Name: Tiberium Refinery
    TooltipExtras:
        Strengths:  Allows you to procure Resources
        Attributes:  Free Harvester\nEach Refinery comes with one free Harvester
	Buildable:
		BuildPaletteOrder: 1
		Prerequisites: fact, ~techlevel.low
		Queue: Building.GDI, Building.Nod
		Description:  Processes raw Tiberium into useable resources.
	Building:
		Footprint: xxx x+x ===
		Dimensions: 3,3
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 115000
	Armor:
		Type: Structure
	RevealsShroud:
		Range: 3c0
	Refinery:
		DockAngle: 448
		DockOffset: 0,2
		IsDragRequired: True
		DragOffset: -554,512,0
		DragLength: 12
		TickRate: 15
		DiscardExcessResources: True
	StoresResources:
		Capacity: 1000
	Selectable:
		Bounds: 72,56
		DecorationBounds: 73,72
	FreeActorWithDelivery@GDI:
		Actor: HARV
		DeliveryOffset: 1,2
		DeliveringActor: OCAR.Reinforce
		Facing: 256
        RequiresCondition: builder-is-gdi
	FreeActorWithDelivery@Nod:
		Actor: HARV
		DeliveryOffset: 1,2
		DeliveringActor: NV22.Reinforce
		Facing: 256
        RequiresCondition: builder-is-nod
    GrantConditionOnFaction@GDI:
		Condition: builder-is-gdi
        Factions: gdi
    GrantConditionOnFaction@Nod:
		Condition: builder-is-nod
        Factions: nod
	WithBuildingBib:
	WithResourceLevelOverlay:
		RequiresCondition: !build-incomplete
	Power:
		Amount: -30
		RequiresCondition: !build-incomplete
	ProvidesPrerequisite@buildingname:
	RenderSprites:
		Image: proc
		FactionImages:
			nod: nodproc
	SpawnActorOnDeath:
		Actor: proc.husk
        EffectiveOwnerFromOwner: true
	ExternalCondition@DOCKED:
		Condition: dockinprocess
		SourceCap: 1
		TotalCap: 1
	ProximityExternalCondition@DOCKED:
		Condition: docked
		Range: 1c0
		ValidRelationships: Ally
	Sellable:
		RequiresCondition: !build-incomplete && !being-captured && !being-demolished && !dockinprocess
	# workaround for Drag Harvester Teleport issue
	ProximityExternalCondition@OnRefineryBib:
		Condition: onrefinerybib
		Range: 2c0
	CustomSellValue:
		Value: 500
	WithIdleOverlay@ARROWS:
		RequiresCondition: !build-incomplete && dockincoming && !dockinprocess
		Sequence: active
		#   PauseOnCondition: dockinprocess
	ExternalCondition@ARROWS:
		Condition: dockincoming
		SourceCap: 1
		TotalCap: 1

PROC.Husk:
	Inherits: ^BuildingHusk
	Interactable:
		Bounds: 72,56
	Building:
		Footprint: xxx xxx ===
		Dimensions: 3,3
		LocalCenterOffset: 0,-512,0
	Tooltip:
		Name: Tiberium Refinery (Destroyed)
	RenderSprites:
		Image: proc.husk
		FactionImages:
			nod: nodproc.husk

#   problem: if you assign same building to 
#   both Building and Defence queue will build one 
#   copy for each queue resulting in 2 for price of 1 
PROC.Clone:
    Inherits: PROC
	Buildable:
		BuildPaletteOrder: 1
		Queue: Defence.GDI, Defence.Nod
	ProvidesPrerequisite@ISACOPY:
        Prerequisite: proc
	RenderSprites:
		Image: proc
		FactionImages:
			nod: nodproc
    -MapEditorData:

SILO:
	Inherits: ^BaseBuilding
	Inherits@shape: ^2x1Shape
	Inherits@RESOURCES: ^StoresResources
	-GivesBuildableArea:
	-WithSpriteBody:
	-SpawnActorsOnSell:
	Valued:
		Cost: 300
	Tooltip:
		Name: Tiberium Silo
    TooltipExtras:
        Attributes:  Periodic Income\nThe stored resources get converted into Cash,\ngenerating income aslong not low on power.
	Buildable:
		BuildPaletteOrder: 4
		Prerequisites: proc, ~techlevel.low
		Queue: Building.GDI, Building.Nod
		Description:  Stores processed Tiberium.
	Building:
		Footprint: xx
		Dimensions: 2,1
	Health:
		HP: 45000
	Armor:
		Type: Structure
	RevealsShroud:
		Range: 1c512
	WithBuildingBib:
		HasMinibib: true
	WithResourceLevelSpriteBody:
		Sequence: stages
	StoresResources:
		Capacity: 3000
	Power:
		Amount: -15
		RequiresCondition: !build-incomplete
	MustBeDestroyed:
		RequiredForShortGame: false
	Selectable:
		Bounds: 48,24
		DecorationBounds: 49,30
	RenderSprites:
		Image: silo
		FactionImages:
			nod: nodsilo
	SpawnActorOnDeath:
		Actor: silo.husk
        EffectiveOwnerFromOwner: true
	GrantConditionOnPlayerResources:
		Condition: contains-resources
	Explodes@RESOURCES:
		RequiresCondition: contains-resources
		Weapon: TiberiumExplosion
	CashTrickler:
		Interval: 600
		InitialDelay: 600
		Amount: 30
		PauseOnCondition: lowpower && build-incomplete
		UseResourceStorage: true
	CashTricklerBar:
		Color: FFFF9E
	GrantConditionOnPowerState@LOWPOWER:
		Condition: lowpower
		ValidPowerStates: Low, Critical

SILO.Husk:
	Inherits: ^BuildingHusk
	Interactable:
		Bounds: 48,24
	Building:
		Footprint: xx
		Dimensions: 2,1
	Tooltip:
		Name: Tiberium Silo (Destroyed)
	RenderSprites:
		Image: silo.husk
		FactionImages:
			nod: nodsilo.husk

SILO.Clone:
    Inherits: SILO
	Buildable:
		BuildPaletteOrder: 4
		Queue: Defence.GDI, Defence.Nod
	ProvidesPrerequisite@ISACOPY:
        Prerequisite: silo
	RenderSprites:
		Image: silo
		FactionImages:
			nod: nodsilo
    -MapEditorData:

PYLE:
	Inherits: ^BaseBuilding
	HitShape:
		UseTargetableCellsOffsets: false
		TargetableOffsets: 0,0,0, 840,-256,0, 840,512,0, 210,-512,0, -71,512,0
		Type: Rectangle
			TopLeft: -1024, -1024
			BottomRight: 1024, 640
	Valued:
		Cost: 500
	Tooltip:
		Name: Barracks
    TooltipExtras:
        Strengths:  Allows to train Infantry units
        Weaknesses:  Decomissions Infantry for 1/4 of cost
        Attributes:  Free Guards\nEach Barracks comes with two free Soldiers
	ProvidesPrerequisite:
		Prerequisite: infantryproduction
	Buildable:
		BuildPaletteOrder: 2
		Prerequisites: fact, ~techlevel.low
		Queue: Building.GDI
		Description:  Trains and Heals Infantry units.
	Building:
		Footprint: xx xx ==
		Dimensions: 2,3
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 90000
	Armor:
		Type: Structure
	RevealsShroud:
		Range: 3c0
	WithBuildingBib:
	RallyPoint:
	Exit@1:
		RequiresCondition: !being-captured
		SpawnOffset: -426,85,0
		ExitCell: 0,1
	Exit@2:
		RequiresCondition: !being-captured
		SpawnOffset: 298,298,0
		ExitCell: 1,1
	Production:
		Produces: Infantry.GDI
		PauseOnCondition: build-incomplete
	GrantExternalConditionToProduced:
		Condition: produced
	ProductionQueue:
		Type: Infantry.GDI
		DisplayOrder: 2
		Group: Infantry
		LowPowerModifier: 150
		ReadyAudio: UnitReady
		BlockedAudio: NoBuild
		LimitedAudio: UnabletoComply
		QueuedAudio: Training
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
	ProductionBar:
		ProductionType: Infantry.GDI
        Color: 5050FC
	Power:
		Amount: -20
		RequiresCondition: !build-incomplete
	ProvidesPrerequisite@buildingname:
	Selectable:
		Bounds: 48,42,0,-5
	FreeActor@1:
		Actor: E1
		SpawnOffset: 0,2
		Facing: 512
		RequiresCondition: !build-incomplete
	FreeActor@2:
		Actor: E1
		SpawnOffset: 1,2
		Facing: 512
		RequiresCondition: !build-incomplete
	ProximityExternalCondition@barracksheal:
		Condition: barracks
		ValidRelationships: Ally
		Range: 2c512
	WithRangeCircle:
		Range: 2c512
	AcceptsDeliveredCash:
		ValidTypes: InfantryRefund
	SpawnActorOnDeath:
		Actor: pyle.husk
        EffectiveOwnerFromOwner: true

PYLE.Husk:
	Inherits: ^BuildingHusk
	Interactable:
		Bounds: 48,48
	Building:
		Footprint: xx xx
		Dimensions: 2,2
	Tooltip:
		Name: Barracks (Destroyed)
	RenderSprites:
		Image: pyle.husk

HAND:
	Inherits: ^BaseBuilding
	Inherits@shape: ^2x2Shape
	HitShape:
		UseTargetableCellsOffsets: false
		TargetableOffsets: 0,0,0, 630,-512,0, 355,512,0, -281,-512,0, -630,512,0
	Valued:
		Cost: 500
	Tooltip:
		Name: Hand of Nod
    TooltipExtras:
        Strengths:  Allows to train Infantry units
        Weaknesses:  Decomissions Infantry for 1/4 of cost
        Attributes:  Free Guards\nEach Hand of Nod comes with two free Soldiers
	ProvidesPrerequisite:
		Prerequisite: infantryproduction
	Buildable:
		BuildPaletteOrder: 2
		Prerequisites: fact, ~techlevel.low, ~!global-squadenabled
		Queue: Building.Nod
		Description:  Trains and Heals Infantry units.
	Building:
		Footprint: xx xx ==
		Dimensions: 2,3
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 90000
	Armor:
		Type: Structure
	RevealsShroud:
		Range: 3c0
	WithBuildingBib:
	RallyPoint:
	Exit@1:
		RequiresCondition: !being-captured
		SpawnOffset: 512,1024,0
		ExitCell: 1,2
	Exit@2:
		RequiresCondition: !being-captured
		SpawnOffset: -1026,380,0
		ExitCell: 0,2
	Production:
		Produces: Infantry.Nod
		PauseOnCondition: build-incomplete
	GrantExternalConditionToProduced:
		Condition: produced
	ProductionQueue:
		Type: Infantry.Nod
		DisplayOrder: 2
		Group: Infantry
		LowPowerModifier: 150
		ReadyAudio: UnitReady
		BlockedAudio: NoBuild
		LimitedAudio: UnabletoComply
		QueuedAudio: Training
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
	ProductionBar:
		ProductionType: Infantry.Nod
        Color: 5050FC
	Power:
		Amount: -20
		RequiresCondition: !build-incomplete
	ProvidesPrerequisite@buildingname:
	Selectable:
		Bounds: 48,48
		DecorationBounds: 48,68,0,-10
	FreeActor@1:
		Actor: E1
		SpawnOffset: 0,2
		Facing: 512
		RequiresCondition: !build-incomplete
	FreeActor@2:
		Actor: E1
		SpawnOffset: 1,2
		Facing: 512
		RequiresCondition: !build-incomplete
	ProximityExternalCondition@barracksheal:
		Condition: barracks
		ValidRelationships: Ally
		Range: 2c512
	WithRangeCircle:
		Range: 2c512
	AcceptsDeliveredCash:
		ValidTypes: InfantryRefund
	SpawnActorOnDeath:
		Actor: hand.husk
        EffectiveOwnerFromOwner: true
    #   interferes with Squad production method
    #   even if disabled so ?!
	WithProductionDoorOverlay:
        RequiresCondition: !build-incomplete
        Sequence: build-top
    #   RequiresCondition: !build-incomplete && !disabled-squad    
    #   PauseOnCondition: disabled-squad
    #   GrantConditionOnPrerequisite@SquadCrashPrevention:
    #   Condition: disabled-squad
    #   Prerequisites: global-squadenabled
    #   WithIdleOverlay@SquadReplacement:
    #   RequiresCondition: !build-incomplete && disabled-squad
    #   Sequence: build-top-single

HAND.Husk:
	Inherits: ^BuildingHusk
	Interactable:
		Bounds: 48,48
	Building:
		Footprint: xx xx
		Dimensions: 2,2
	Tooltip:
		Name: Hand of Nod (Destroyed)
	RenderSprites:
		Image: hand.husk

#   WithProductionDoorOverlay: interferes with Squad production.
#   making this clone a necessity.
HAND.Squad:
    Inherits: HAND
    -WithProductionDoorOverlay:
	Buildable:
		BuildPaletteOrder: 2
		Prerequisites: fact, ~techlevel.low, ~global-squadenabled
	ProvidesPrerequisite@COPY:
		Prerequisite: hand
    WithIdleOverlay@SquadReplacement:
        RequiresCondition: !build-incomplete
        Sequence: build-top-single
    RenderSprites:
        Image: hand
    -MapEditorData:

WEAP:
	Inherits: ^BaseBuilding
	Inherits@shape: ^3x2Shape
	HitShape:
		TargetableOffsets: 0,0,0, 0,1024,0, 0,-1024,0
		Type: Rectangle
			TopLeft: -1536, -1024
			BottomRight: 1536, 512
	Valued:
		Cost: 2000
	Tooltip:
		Name: War Factory
    TooltipExtras:
        Strengths:  Allows to produce Vehicles
	ProvidesPrerequisite:
		Prerequisite: vehicleproduction
	Buildable:
		BuildPaletteOrder: 5
		Prerequisites: anypower, ~techlevel.low
		Queue: Building.GDI
		Description: Produces Armor and Vehicles.
	Building:
		Footprint: xxx +++ ===
		Dimensions: 3,3
		LocalCenterOffset: 0,-512,0
	Selectable:
		Bounds: 72,48
		DecorationBounds: 72,64,0,-16
	Health:
		HP: 120000
	Armor:
		Type: Structure
	RevealsShroud:
		Range: 3c0
	WithBuildingBib:
	WithProductionDoorOverlay:
		RequiresCondition: !build-incomplete
		Sequence: build-top
	RallyPoint:
	Exit@1:
		RequiresCondition: !being-captured
		SpawnOffset: -512,-512,0
		ExitCell: 0,1
		ExitDelay: 3
		ProductionTypes: Vehicle.GDI
	Exit@2:
		RequiresCondition: !being-captured
		SpawnOffset: -512,-512,0
		ExitCell: 0,2
		ExitDelay: 3
		ProductionTypes: Vehicle.GDI
	Production:
		Produces: Vehicle.GDI
		PauseOnCondition: build-incomplete
	ProductionQueue:
		Type: Vehicle.GDI
		DisplayOrder: 3
		Group: Vehicle
		LowPowerModifier: 150
		ReadyAudio: UnitReady
		BlockedAudio: NoBuild
		LimitedAudio: UnitInProgress
		QueuedAudio: Building
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
	ProductionBar:
		ProductionType: Vehicle.GDI
        Color: 5050FC
	Power:
		Amount: -40
		RequiresCondition: !build-incomplete
	ProvidesPrerequisite@buildingname:
	-ActorPreviewPlaceBuildingPreview:
	SequencePlaceBuildingPreview:
		Sequence: place
		SequencePalette: placebuilding
	SpawnActorOnDeath:
		Actor: weap.husk
        EffectiveOwnerFromOwner: true

WEAP.Husk:
	Inherits: ^BuildingHusk
	Interactable:
		Bounds: 72,48
	Building:
		Footprint: xxx === ===
		Dimensions: 3,3
		LocalCenterOffset: 0,-512,0
	Tooltip:
		Name: War Factory (Destroyed)
	RenderSprites:
		Image: weap.husk

AFLD:
	Inherits: ^BaseBuilding
	Selectable:
		Bounds: 96,48
	HitShape:
		TargetableOffsets: 0,0,0, 0,-512,256, 0,-1451,384, 0,512,128, 0,1536,85
		Type: Rectangle
			TopLeft: -2048, -1024
			BottomRight: 2048, 1024
	Valued:
		Cost: 2000
	Tooltip:
		Name: Airstrip
    TooltipExtras:
        Strengths:  Allows to produce Vehicles
        Upgrades:  Can be upgraded for Faster deliveries
	ProvidesPrerequisite:
		Prerequisite: vehicleproduction
	Buildable:
		BuildPaletteOrder: 5
		Prerequisites: anypower, ~techlevel.low
		Queue: Building.Nod
		Description:  Provides a dropzone for Vehicle reinforcements.
	Building:
		Footprint: XXX+ xxx+ ====
		Dimensions: 4,3
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 150000
	Armor:
		Type: Structure
	RevealsShroud:
		Range: 5c0
	RallyPoint:
	Exit@1:
		SpawnOffset: -1024,0,0
		ExitCell: 3,1
		ProductionTypes: Vehicle.Nod
	Exit@2:
		SpawnOffset: -1024,0,0
		ExitCell: 3,2
		ProductionTypes: Vehicle.Nod
	ProductionAirdrop:
		Produces: Vehicle.Nod
		ActorType: c17
	WithBuildingBib:
	WithIdleOverlay@DISH:
		RequiresCondition: !build-incomplete
        PauseOnCondition: lowpower
		Sequence: idle-dish
	WithDeliveryAnimation:
		RequiresCondition: !build-incomplete
	ProductionQueue:
		Type: Vehicle.Nod
		DisplayOrder: 3
		Group: Vehicle
		LowPowerModifier: 150
		BlockedAudio: NoBuild
		LimitedAudio: UnitInProgress
		QueuedAudio: Building
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
	ProductionBar:
		ProductionType: Vehicle.Nod
        Color: 5050FC
	Power:
		Amount: -40
		RequiresCondition: !build-incomplete
	ProvidesPrerequisite@buildingname:
	SpawnActorOnDeath:
		Actor: afld.husk
        EffectiveOwnerFromOwner: true
	ActorPreviewPlaceBuildingPreview:
        Animated: false
    GrantConditionOnPowerState@LOWPOWER:
		Condition: lowpower
		ValidPowerStates: Low, Critical

AFLD.Husk:
	Inherits: ^BuildingHusk
	Interactable:
		Bounds: 72,48
	Building:
		Footprint: XXXX xxxx ====
		Dimensions: 4,3
		LocalCenterOffset: 0,-512,0
	Tooltip:
		Name: Airstrip (Destroyed)
	RenderSprites:
		Image: afld.husk

FIX:
	Inherits: ^BaseBuilding
	HitShape:
		TargetableOffsets: 840,0,0, 598,-640,0, 598,640,0, -1060,0,0, -768,-640,0, -768,640,0
		Type: Polygon
			Points: -1536,-256, -341,-940, 341,-940, 1536,-256, 1536,341, 341,1110, -341,1110, -1536,341
	Valued:
		Cost: 800
	Tooltip:
		Name: Service Depot
    TooltipExtras:
        Strengths:  Repairs Vehicles and Aircraft for credits
        Weaknesses:  Vehicle and Aircraft can be sold here for half value\n(their value scaling with health)
        RequiresCondition: !fieldrepairs-enabled
    TooltipExtras@RepairsEnabled:
        Strengths:  Repairs Vehicles and Aircraft for credits
        Weaknesses:  Vehicle and Aircraft can be sold for half value\n(their value scaling with health)
        Specialabilities:  Special Ability: Field Repairs\nAffected vehicles self-repair for 2% of their\nmaximum health per second for 15 second duration
        RequiresCondition: fieldrepairs-enabled
        IsStandard: false
	Buildable:
		BuildPaletteOrder: 8
		Prerequisites: vehicleproduction, ~techlevel.medium
		Queue: Building.GDI, Building.Nod
		Description:  Repair facility for fixing Vehicles at a price.
	Building:
		Footprint: =+= +++ =+=
		Dimensions: 3,3
	Selectable:
		Bounds: 64,34,0,3
		DecorationBounds: 72,48
	Health:
		HP: 90000
	Armor:
		Type: Structure
	RevealsShroud:
		Range: 3c0
	WithBuildingBib:
		HasMinibib: true
	WithResupplyAnimation:
		RequiresCondition: !build-incomplete
	Reservable:
	RepairsUnits:
		HpPerStep: 1000
		Interval: 9
		PlayerExperience: 0
		StartRepairingNotification: Repairing
        FinishRepairingNotification: UnitRepaired
		RepairDamageTypes: Repair
	RallyPoint:
	Power:
		Amount: -30
		RequiresCondition: !build-incomplete
	ProvidesPrerequisite@buildingname:
	RenderSprites:
		Image: fix
		FactionImages:
			nod: nodfix
	SpawnActorOnDeath:
		Actor: fix.husk
        EffectiveOwnerFromOwner: true
	ExternalCondition@Docked:
		Condition: unit.docked
	ProximityExternalCondition:
		Condition: unit.sellable
		Range: 1c0
	Sellable:
		RequiresCondition: !unit.docked && !build-incomplete && !being-captured && !being-demolished
	GrantExternalConditionPower@FieldRepairs:
		PauseOnCondition: lowpower
		OrderName: FieldRepairs
		Prerequisites: ~global-fieldrepairs, ~techlevel.unrestricted
		Icon: fieldrepair
		ChargeInterval: 6000
		Dimensions: 3, 3
		Footprint: xxx xxx xxx
		Duration: 375
		Description: Field Repairs
		LongDesc: Affected vehicles self-repair for 2% of their\nmaximum health per second for 15 second duration.
        EndChargeSpeechNotification: FieldRepairsReady
        LaunchSpeechNotification: FieldRepairsUse
		SelectTargetSpeechNotification: SelectTarget
		IncomingSpeechNotification: FieldRepairsEnemy
        InsufficientPowerSpeechNotification: InsufficientPower
		Condition: fieldrepair
		Cursor: repair
		Sequence: none
		SupportPowerPaletteOrder: 6
    GrantConditionOnPrerequisite@FieldRepairs:
        Condition: fieldrepairs-enabled
        Prerequisites: global-fieldrepairs
    GrantConditionOnPowerState@LOWPOWER:
		Condition: lowpower
		ValidPowerStates: Low, Critical
	SupportPowerChargeBar:
    #   -BlocksProjectiles:

FIX.Husk:
	Inherits: ^BuildingHusk
	Interactable:
		Bounds: 68,34
	Building:
		Footprint: === xxx ===
		Dimensions: 3,3
	Tooltip:
		Name: Service Depot (Destroyed)
	RenderSprites:
		Image: fix.husk

HPAD:
	Inherits: ^BaseBuilding
	Inherits@shape: ^2x2Shape
	Selectable:
		Bounds: 48,48
	HitShape:
		UseTargetableCellsOffsets: false
		TargetableOffsets: 0,0,0, 768,-512,0, 768,512,0, -281,-512,0, -630,512,0
	Valued:
		Cost: 300
	Tooltip:
		Name: Helipad
    TooltipExtras:
        Strengths:  Allows to produce Aircraft
	Buildable:
		BuildPaletteOrder: 3
		Prerequisites: hq, ~techlevel.medium
		Queue: Building.GDI, Building.Nod
		Description:  Builds, Resupplies and Repairs Helicopters.
	Building:
		Footprint: xx xx
		Dimensions: 2,2
	Health:
		HP: 60000
	Armor:
		Type: Structure
	RevealsShroud:
		Range: 3c0
	Exit@1:
		SpawnOffset: 0,-256,0
		Facing: 896
        ProductionTypes: Aircraft.GDI, Aircraft.Nod
	RallyPoint:
	Reservable:
	RepairsUnits:
		HpPerStep: 1000
		Interval: 18
		PlayerExperience: 0
		StartRepairingNotification: Repairing
        FinishRepairingNotification: UnitRepaired
		RepairDamageTypes: Repair
	WithResupplyAnimation:
		RequiresCondition: !build-incomplete
	Power:
		Amount: -20
		RequiresCondition: !build-incomplete
	ProvidesPrerequisite@buildingname:
	SpawnActorOnDeath:
		Actor: hpad.husk
        EffectiveOwnerFromOwner: true
	FreeActor@1:
		Actor: ORCA
		Facing: 896
		SpawnOffset: 1,1
		RequiresCondition: !build-incomplete && gdi.player && gratisair
	FreeActor@2:
		Actor: HELI
		Facing: 896
		SpawnOffset: 1,1
		RequiresCondition: !build-incomplete && nod.player && gratisair
	GrantConditionOnFaction@GDI:
		Condition: gdi.player
		Factions: gdi
		ResetOnOwnerChange: True
	GrantConditionOnFaction@Nod:
		Condition: nod.player
		Factions: nod
		ResetOnOwnerChange: True
	GrantConditionOnPrerequisite@FREEAIRCRAFT:
		Prerequisites: global-freeaircraft
		Condition: gratisair
	ProductionCostMultiplier@FREEAIRCRAFT:
		Multiplier: 500
		Prerequisites: global-freeaircraft
	ProximityExternalCondition@OnHelipad:
		Condition: onhelipad
		Range: 1c0
	ProductionQueue@GDI:
		Type: Aircraft.GDI
		DisplayOrder: 4
		Factions: gdi
		Group: Aircraft
		LowPowerModifier: 150
		ReadyAudio: AirUnitReady
		BlockedAudio: NoBuild
		LimitedAudio: UnitInProgress
		QueuedAudio: Building
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
	ProductionQueue@Nod:
		Type: Aircraft.Nod
		DisplayOrder: 4
		Factions: nod
		Group: Aircraft
		LowPowerModifier: 150
		ReadyAudio: AirUnitReady
		BlockedAudio: NoBuild
		LimitedAudio: UnitInProgress
		QueuedAudio: Building
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
    ProductionBar@GDI:
        ProductionType: Aircraft.GDI
        Color: 5050FC
    ProductionBar@Nod:
        ProductionType: Aircraft.Nod
        Color: 5050FC
	ProductionFromMapEdge:
		Produces: Aircraft.GDI, Aircraft.Nod
    #   -BlocksProjectiles:

HPAD.Husk:
	Inherits: ^BuildingHusk
	Interactable:
		Bounds: 48,48
	Building:
		Footprint: xx xx
		Dimensions: 2,2
	Tooltip:
		Name: Helipad (Destroyed)

CTRL:
	Inherits: ^BaseBuilding
	Inherits@shape: ^2x2Shape
    SelectionDecorations:
	Selectable:
		Bounds: 48,48
        DecorationBounds: 48, 56, 0, 0
	HitShape:
		UseTargetableCellsOffsets: false
		TargetableOffsets: 0,0,0, 768,-512,0, 768,512,0, -281,-512,0, -630,512,0
	Valued:
		Cost: 900
	Tooltip:
		Name: Airforce Control Dome
    TooltipExtras:
        Strengths:  Allows purchasing of Airforce support powers
        Weaknesses:  Requires Power to operate
        Specialabilities:  Special Ability: Paratroopers\nA Cargo plane delivers one squad of Infantry\n(requires Communications Center)
    Buildable:
		BuildPaletteOrder: 6
		Prerequisites: hpad, anytier3, ~techlevel.high
		Queue: Building.GDI, Building.Nod
        Description:  Coordinates and recharges aerial operations.
		BuildLimit: 1
	Building:
		Footprint: xx xx
		Dimensions: 2, 2
        LocalCenterOffset: 0,-512,0
	ProvidesPrerequisite@buildingname:
	Health:
		HP: 90000
	Armor:
		Type: Structure
	RevealsShroud:
		Range: 3c0
	WithBuildingBib:
	Power:
		Amount: -50
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: False
	SpawnActorOnDeath:
		Actor: ctrl.husk
        EffectiveOwnerFromOwner: true
	ParatroopersPower@Paratroopers:
		OrderName: Paratroopers
		Prerequisites: ~hq, ~techlevel.unrestricted
		Icon: pinficon
		ChargeInterval: 7500
		Description: Paratroopers
		UnitType: c130
		LongDesc: A C-130 drops a squad of veteran Infantry\nanywhere on the map.
		DropItems: E1R1,E3R1,E1R1,E3R1,E1R1
		ReinforcementsArrivedSpeechNotification: Reinforce
		SelectTargetSpeechNotification: SelectTarget
		EndChargeSpeechNotification: ReinforceAvailable
        LaunchSpeechNotification: ReinforceEnroute
		IncomingSpeechNotification: EnemyReinforcements
        AllowImpassableCells: false
		QuantizedFacings: 8
		CameraActor: camera.small
		DisplayBeacon: true
		BeaconPoster: pinfbcon
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		UseDirectionalTarget: True
		DirectionArrowAnimation: paradirection
		SupportPowerPaletteOrder: 5
		PauseOnCondition: lowpower
		Cursor: airdrop
	AirstrikePower@AirstrikeA10:
		OrderName: AirStrikeA10
		PauseOnCondition: lowpower
		Prerequisites: ~proxy.airstrike.unlock, ~!airstrike.upgrade
		Icon: airstrike
		ChargeInterval: 7500
		SquadSize: 1
		QuantizedFacings: 8
		Description: Air Strike
		LongDesc: Deploy an aerial napalm strike.\nBurns buildings and infantry along a line.
		EndChargeSpeechNotification: AirstrikeReady
        LaunchSpeechNotification: AirstrikeInbound
        SelectTargetSpeechNotification: SelectTarget
        IncomingSpeechNotification: EnemyPlanesApproaching
		UnitType: a10
		DisplayBeacon: True
		BeaconPoster: airstrike
		DisplayRadarPing: True
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		UseDirectionalTarget: True
		DirectionArrowAnimation: paradirection
		Cursor: airstrike
		SupportPowerPaletteOrder: 2
	AirstrikePower@AirstrikeA10Upgraded:
		OrderName: AirstrikeA10Upgraded
		PauseOnCondition: lowpower
		Prerequisites: ~airstrike.upgrade
		Icon: airstrike
		ChargeInterval: 10500
		SquadSize: 3
		QuantizedFacings: 8
		Description: Air Strike
		LongDesc: Deploy an aerial napalm strike.\nBurns buildings and infantry along a line.
		EndChargeSpeechNotification: AirstrikeReady
		LaunchSpeechNotification: AirstrikeInbound
        SelectTargetSpeechNotification: SelectTarget
        IncomingSpeechNotification: EnemyPlanesApproaching
		UnitType: a10
		DisplayBeacon: True
		BeaconPoster: airstrike
		DisplayRadarPing: True
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		UseDirectionalTarget: True
		DirectionArrowAnimation: paradirection
		Cursor: airstrike
		SupportPowerPaletteOrder: 2
	AirstrikePower@NodAirStrike:
		OrderName: NodAirStrike
		PauseOnCondition: lowpower
		Prerequisites: ~proxy.nodairstrike.unlock
		Icon: sfigicon
		ChargeInterval: 7500
		SquadSize: 1
		QuantizedFacings: 8
		Description: Air Strike
		LongDesc: Deploy an aerial napalm strike.\nBurns buildings and infantry along a line.
		EndChargeSpeechNotification: AirstrikeReady
        LaunchSpeechNotification: AirstrikeInbound
        SelectTargetSpeechNotification: SelectTarget
        IncomingSpeechNotification: EnemyPlanesApproaching
		UnitType: sfig
		DisplayBeacon: True
		BeaconPoster: airstrike
		DisplayRadarPing: True
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		UseDirectionalTarget: True
		DirectionArrowAnimation: paradirection
		Cursor: airstrike
		SupportPowerPaletteOrder: 2
	InterceptorPower@GDIInterceptors:
		PauseOnCondition: lowpower
		OrderName: GDIInterceptors
		Prerequisites: ~proxy.interceptorsgdi.unlock
		Icon: gdicepticon
		ChargeInterval: 7500
		Description: F-18 Interceptors
		LongDesc: A squadron of F-18 provides anti-air\ncover over the selected target area.\nAir cover lasts for 20 seconds.
		EndChargeSpeechNotification: InterceptorsReady
        LaunchSpeechNotification: InterceptorsLaunched
		SelectTargetSpeechNotification: SelectTarget
        IncomingSpeechNotification: EnemyPlanesApproaching
		CameraActor: camera
		CameraRemoveDelay: 450
		UnitType: f18
		QuantizedFacings: 8
		DisplayBeacon: true
		BeaconPoster: ceptbcon
		SquadSize: 3
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		UseDirectionalTarget: True
		DirectionArrowAnimation: paradirection
		GuardDuration: 500
		Cordon: 8c0
		SupportPowerPaletteOrder: 3
	InterceptorPower@NodInterceptors:
		PauseOnCondition: lowpower
		OrderName: NodInterceptors
		Prerequisites: ~proxy.interceptorsnod.unlock, ~!interceptorsnod.upgrade
		Icon: cepticon
		ChargeInterval: 7500
		Description: Interceptors
		LongDesc: A squadron of F-22 provides anti-air\ncover over the selected target area.\nAir cover lasts for 20 seconds.
		EndChargeSpeechNotification: InterceptorsReady
        LaunchSpeechNotification: InterceptorsLaunched
		SelectTargetSpeechNotification: SelectTarget
        IncomingSpeechNotification: EnemyPlanesApproaching
		CameraActor: camera
		CameraRemoveDelay: 450
		UnitType: f22
		QuantizedFacings: 8
		DisplayBeacon: true
		BeaconPoster: ceptbcon
		SquadSize: 3
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		UseDirectionalTarget: True
		DirectionArrowAnimation: paradirection
		GuardDuration: 500
		Cordon: 8c0
		SupportPowerPaletteOrder: 3
	InterceptorPower@NodInterceptorsUpgraded:
		PauseOnCondition: lowpower
		OrderName: NodInterceptorsUpgraded
		Prerequisites: ~interceptorsnod.upgrade
		Icon: cepticon
		ChargeInterval: 7500
		Description: Interceptors
		LongDesc: A squadron of F-22 provides anti-air\ncover over the selected target area.\nAir cover lasts for 30 seconds.
		EndChargeSpeechNotification: InterceptorsReady
        LaunchSpeechNotification: InterceptorsLaunched
		SelectTargetSpeechNotification: SelectTarget
        IncomingSpeechNotification: EnemyPlanesApproaching
		CameraActor: camera
		CameraRemoveDelay: 700
		UnitType: f22
		QuantizedFacings: 8
		DisplayBeacon: true
		BeaconPoster: ceptbcon
		SquadSize: 3
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		UseDirectionalTarget: True
		DirectionArrowAnimation: paradirection
		GuardDuration: 750
		Cordon: 8c0
		SupportPowerPaletteOrder: 3
	SupportPowerChargeBar:
	GrantConditionOnPowerState@LOWPOWER:
		Condition: lowpower
		ValidPowerStates: Low, Critical
    RenderSprites:
        Image: adom

CTRL.Husk:
	Inherits: ^BuildingHusk
	Interactable:
		Bounds: 48,48
	Building:
		Footprint: xx xx
		Dimensions: 2,2
        LocalCenterOffset: 0,-512,0
	Tooltip:
		Name: Airforce Control Dome (Destroyed)
    RenderSprites:
        Image: adom.husk

HQ:
	Inherits: ^BaseBuilding
	Inherits@IDISABLE: ^DisabledOverlay
	HitShape:
		TargetableOffsets: 0,0,0, 0,512,0, 420,-598,256
		Type: Rectangle
			TopLeft: -1024, -384
			BottomRight: 1024, 1024
	Valued:
		Cost: 1200
	Tooltip:
		Name: Communications Center
    TooltipExtras:
        Strengths:  Unlocks Artillery, Recon Bike and Flamethrower
        Weaknesses:  Requires Power to operate
        Attributes:  Detects nearby Stealth units
        Upgrades:  Can be upgraded to detect Airplanes in advance
        Specialabilities:  Special Ability: Radar Scan\nReveals an area of the map\nand cloaked enemy units there.
	Buildable:
		BuildPaletteOrder: 9
		Prerequisites: proc, anypower, ~can-build-hq-finale, ~techlevel.medium
		Queue: Building.GDI, Building.Nod
		Description:  Provides an overview of the battlefield.
	Building:
		Footprint: Xx xx
		Dimensions: 2,2
		LocalCenterOffset: 0,-512,0
	Selectable:
		Bounds: 48,40,0,9
		DecorationBounds: 48,53,0,-4
	WithSpriteBody:
		PauseOnCondition: lowpower
	Health:
		HP: 150000
	Armor:
		Type: Structure
	RevealsShroud:
		Range: 10c0
	WithBuildingBib:
	RenderDetectionCircle:
	DetectCloaked:
		CloakTypes: GroundStealth, Stealth, AirStealth
		Range: 5c0
		RequiresCondition: !lowpower
	Power:
		Amount: -50
		RequiresCondition: !build-incomplete
	SpawnActorOnDeath:
		Actor: hq.husk
		EffectiveOwnerFromOwner: true
	ProvidesPrerequisite@buildingname:
	ProvidesPrerequisite@LOCALRADAR:
		Prerequisite: activedome
		RequiresCondition: !jammed && !lowpower && !build-incomplete
	ProvidesPrerequisite@GLOBALJAM:
		Prerequisite: isbeingjammed
		RequiresCondition: jammed
	ExternalCondition@JAMMED:
		Condition: jammed
	SpawnActorPowerCA@RadarScan:
		PauseOnCondition: lowpower
		OrderName: RadarScan
		Actor: camera.scan
		Prerequisites: ~techlevel.unrestricted
		LifeTime: 300
		ChargeInterval: 3750
		Icon: radarscan
		Description: Radar Scan
		LongDesc: Reveals an area of the map and cloaked enemy units there.
		StartFullyCharged: false
		EndChargeSpeechNotification: RadarScanReady
		SelectTargetSpeechNotification: SelectTarget
		Cursor: sonar-target
		SupportPowerPaletteOrder: 4
		EffectImage: sonarbox
		EffectSequence: scanping
		EffectPalette: effect
		DeploySound: reveal1.aud
		TargetCircleRange: 7c536
		TargetCircleColor: 32cd32
	SupportPowerChargeBar:
	RenderSprites:
		Image: hq
		FactionImages:
			nod: nodhq
	ActorPreviewPlaceBuildingPreview:
		Animated: false
	ProximityExternalCondition@AirRadar:
		Range: 20c0
		ValidRelationships: Enemy
		Condition: in-airwarning-radius
		RequiresCondition: airradar-upgraded
	GrantConditionOnPrerequisite@AirRadar:
		Condition: airradar-upgraded
		Prerequisites: airradar.upgrade
	WithRangeCircle@AirRadar:
		RequiresCondition: airradar-upgraded
		Range: 20c0
	Exit:

HQ.Husk:
	Inherits: ^BuildingHusk
	Interactable:
		Bounds: 48,40
	Building:
		Footprint: Xx xx
		Dimensions: 2,2
		LocalCenterOffset: 0,-512,0
	Tooltip:
		Name: Communications Center (Destroyed)
	RenderSprites:
		Image: hq.husk
		FactionImages:
			nod: nodhq.husk

HQ.GDI:
	Inherits: HQ
	-Tooltip:
    -TooltipExtras:
	-Power:
	-SpawnActorOnDeath:
	-RenderSprites:
	-SpawnActorPowerCA@RadarScan:
	ProvidesPrerequisite@copy:
		Prerequisite: hq
	Buildable:
		BuildPaletteOrder: 9
		Prerequisites: proc, anypower, ~!can-build-hq-finale, ~techlevel.medium
		Queue: Building.GDI
		Description:  Provides an overview of the battlefield.
	Tooltip@BASE:
		Name: Communications Center
		RequiresCondition: !eyeupgrade
	Tooltip@UPGRADED:
		Name: Advanced Communications Center
		RequiresCondition: eyeupgrade
    TooltipExtras:
        Strengths:  Unlocks Medic, Mobile AA Gun and Artillery.
        Weaknesses:  Requires Power to operate
        Attributes:  Detects nearby Stealth units
        Upgrades:  Can be upgraded to detect Airplanes in advance
        Specialabilities:  Special Ability: Recon Drone\nAn UAV reveals a strip of the map\nand cloaked enemy units within sight.
	ProvidesPrerequisite@LIMITING:
		Prerequisite: eye.plug
		RequiresCondition: eyeupgrade
	ProvidesPrerequisite@COPY2:
		Prerequisite: eye
		RequiresCondition: eyeupgrade
	WithIdleOverlay@DISH:
		Sequence: idle-dish
		PauseOnCondition: lowpower
		RequiresCondition: !eyeupgrade && !build-incomplete
	WithIdleOverlay@OTHERDISH:
		Sequence: idle-dish2
		PauseOnCondition: lowpower
		RequiresCondition: !build-incomplete
	WithIdleOverlay@EYE:
		Sequence: idle-dish3
		PauseOnCondition: lowpower
		RequiresCondition: eyeupgrade && !build-incomplete
	AirstrikePower@ReconDrone:
		PauseOnCondition: lowpower
		OrderName: ReconDrone
		Prerequisites: ~techlevel.unrestricted
		Icon: uav
		ChargeInterval: 6750
		Description: Recon Drone
		LongDesc: An UAV reveals a strip of the map\nand cloaked enemy units within sight.
        EndChargeSpeechNotification: ReconDroneAvailable
		SelectTargetSpeechNotification: SelectTarget
		UnitType: uav
		QuantizedFacings: 32
		DisplayBeacon: true
		BeaconPoster: uav
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		UseDirectionalTarget: True
		DirectionArrowAnimation: paradirection
		Cursor: sonar-target
		SupportPowerPaletteOrder: 4
	IonCannonPower@IonCannon:
        RequiresCondition: eyeupgrade
		PauseOnCondition: lowpower
		Prerequisites: ~techlevel.unrestricted
		OrderName: IonCannon
		Icon: ioncannon
		Cursor: ioncannon
		ChargeInterval: 10500
		Description: Ion Cannon
		LongDesc: Initiate an Ion Cannon strike.\nApplies instant damage to a small area.
		BeginChargeSpeechNotification: IonCannonCharging
		EndChargeSpeechNotification: IonCannonReady
		SelectTargetSpeechNotification: SelectTarget
		InsufficientPowerSpeechNotification: InsufficientPower
		OnFireSound: ion1.aud
		DisplayRadarPing: True
		CameraActor: camera.small
		SupportPowerPaletteOrder: 1
		DisplayTimerRelationships: Ally, Neutral, Enemy
	SupportPowerChargeBar:
	RenderSprites:
		Image: gdihq
	Pluggable:
		Offset: 0,0
		Conditions:
			eyeupgrade: eyeupgrade
		Requirements:
			eyeupgrade: !eyeupgrade && !build-incomplete
		EditorOptions:
			eyeupgrade: Advanced Sattelite Uplink
	Power@BASE:
		Amount: -50
		RequiresCondition: !eyeupgrade
	Power@UPGRADED:
		Amount: -100
		RequiresCondition: eyeupgrade
	SpawnActorOnDeath@BASE:
		Actor: hq.gdi.husk
        EffectiveOwnerFromOwner: true
	#	RequiresCondition: !eyeupgrade
	#   SpawnActorOnDeath@UPGRADED:
	#	Actor: eye.husk
    #   EffectiveOwnerFromOwner: true
	#	RequiresCondition: eyeupgrade
	GrantConditionOnPowerState@LOWPOWER:
		Condition: lowpower
		ValidPowerStates: Low, Critical

HQ.GDI.Husk:
	Inherits: ^BuildingHusk
	Interactable:
		Bounds: 48,40
	Building:
		Footprint: Xx xx
		Dimensions: 2,2
		LocalCenterOffset: 0,-512,0
	Tooltip:
		Name: Communications Center (Destroyed)
	RenderSprites:
		Image: gdihq.husk

EYE.Plug:
	Inherits: ^BuildingPlug
	Valued:
		Cost: 1800
	Tooltip:
		Name: Advanced Sattelite Uplink
    TooltipExtras:
        Strengths:  Unlocks Sniper, Mortar, Support Minelayer and MLRS
        Specialabilities:  Special Ability: Ion Cannon Strike\nApplies instant damage to an small area
	Buildable:
		BuildPaletteOrder: 12
		Prerequisites: hq, tech, !eye.plug, ~!aitoodumb, ~techlevel.high
		Queue: Building.GDI
		BuildLimit: 1
		Description: Adds an Sattelite Uplink to Communications Center.\nMaximum one can be built.
	Plug:
		Type: eyeupgrade
	#	this is to show will use extra -50 power when applied on the tooltip
	Power:
		Amount: -50

EYE:
	Inherits: ^BaseBuilding
	Inherits@IDISABLE: ^DisabledOverlay
	HitShape:
		TargetableOffsets: 0,0,0, 0,512,128, 420,-598,213
		Type: Rectangle
			TopLeft: -1024, -384
			BottomRight: 1024, 1024
	Valued:
		Cost: 1800
	Tooltip:
		Name: Advanced Communications Center
    TooltipExtras:
        Strengths:  Unlocks Sniper, Mortar, Support Minelayer and MLRS
        Specialabilities:  Special Ability: Ion Cannon Strike\nApplies instant damage to an small area
	ProvidesPrerequisite@copy:
		Prerequisite: hq
	Buildable:
		BuildPaletteOrder: 12
		Prerequisites: tech, ~aitoodumb, ~techlevel.high
		Queue: Building.GDI
		BuildLimit: 1
		Description: Provides Radar and Sattelite Uplink.\nMaximum one can be built.
	Building:
		Footprint: Xx xx
		Dimensions: 2,2
		LocalCenterOffset: 0,-512,0
	Selectable:
		Bounds: 48,40,0,9
		DecorationBounds: 48,53,0,-4
	WithSpriteBody:
		PauseOnCondition: lowpower
	Health:
		HP: 150000
	Armor:
		Type: Structure
	RevealsShroud:
		Range: 10c0
	WithBuildingBib:
	ProvidesPrerequisite@LOCALRADAR:
		Prerequisite: activedome
		RequiresCondition: !jammed && !lowpower && !build-incomplete
	ProvidesPrerequisite@GLOBALJAM:
		Prerequisite: isbeingjammed
		RequiresCondition: jammed
	ExternalCondition@JAMMED:
		Condition: jammed
	RenderDetectionCircle:
	DetectCloaked:
		CloakTypes: GroundStealth, Stealth, AirStealth
		Range: 5c0
		RequiresCondition: !lowpower
	IonCannonPower@IonCannon:
		PauseOnCondition: lowpower
		Prerequisites: ~techlevel.unrestricted
		OrderName: IonCannon
		Icon: ioncannon
		Cursor: ioncannon
		ChargeInterval: 10500
		Description: Ion Cannon
		LongDesc: Initiate an Ion Cannon strike.\nApplies instant damage to a small area.
		BeginChargeSpeechNotification: IonCannonCharging
		EndChargeSpeechNotification: IonCannonReady
		SelectTargetSpeechNotification: SelectTarget
		InsufficientPowerSpeechNotification: InsufficientPower
		OnFireSound: ion1.aud
		DisplayRadarPing: True
		CameraActor: camera.small
		SupportPowerPaletteOrder: 1
		DisplayTimerRelationships: Ally, Neutral, Enemy
	SupportPowerChargeBar:
	Power:
		Amount: -100
		RequiresCondition: !build-incomplete
	ProvidesPrerequisite@buildingname:
	SpawnActorOnDeath:
		Actor: eye.husk
        EffectiveOwnerFromOwner: true
	GrantConditionOnPowerState@LOWPOWER:
		Condition: lowpower
		ValidPowerStates: Low, Critical

EYE.Husk:
	Inherits: ^BuildingHusk
	Interactable:
		Bounds: 48,40
	Building:
		Footprint: Xx xx
		Dimensions: 2,2
		LocalCenterOffset: 0,-512,0
	Tooltip:
		Name: Advanced Communications Center (Destroyed)
	RenderSprites:
		Image: eye.husk

TECH:
	Inherits: ^BaseBuilding
	Inherits@shape: ^3x2Shape
	Selectable:
		Bounds: 72,48
	HitShape:
		UseTargetableCellsOffsets: false
		TargetableOffsets: 0,0,0, 840,0,0, 840,-1024,0, 420,768,0, -840,0,0, -840,-1024,0, -840,1024,0
	Building:
		Footprint: xxx xxx
		Dimensions: 3,2
		LocalCenterOffset: 0,-512,0
	Buildable:
		BuildPaletteOrder: 11
		BuildLimit: 1
		Prerequisites: vehicleproduction, hq, ~techlevel.high
		Queue: Building.GDI
		Description:  GDI Facility for research and development.\nMaximum one can be built.
	Valued:
		Cost: 2000
	Tooltip:
		Name: Technology Center
    TooltipExtras:
        Strengths:  Unlocks production of Mammoth Tank, Commando,\nAdvanced Guard Tower and Advanced Sattelite Uplink.
        Upgrades:  Researches GDI Upgrades
	Health:
		HP: 200000
	Armor:
		Type: Structure
	RevealsShroud:
		Range: 4c0
	WithBuildingBib:
	Power:
		Amount: -100
		RequiresCondition: !build-incomplete
	ProvidesPrerequisite@buildingname:
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	Sellable:
		RequiresCondition: !build-incomplete && !being-demolished
	RenderSprites:
		Image: miss
	Sellable:
		RequiresCondition: !build-incomplete && !being-demolished && !being-captured
		SellSounds: cashturn.aud
	Production:
		Produces: Upgrades.GDI
		PauseOnCondition: build-incomplete
	ProductionQueue@TechGDI:
		Type: Upgrades.GDI
		DisplayOrder: 6
		Factions: gdi
		Group: Upgrades
		LowPowerModifier: 150
		ReadyAudio: UpgradeReady
		BlockedAudio: NoBuild
		LimitedAudio: UpgradeInProgress
		QueuedAudio: Upgrading
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
	ProductionBar@TechGDI:
		ProductionType: Upgrades.GDI
        Color: 5050FC
	Exit:
	SpawnActorOnDeath:
		Actor: tech.husk
        EffectiveOwnerFromOwner: true
	ProvidesPrerequisite:
		Prerequisite: anytier3

TECH.Husk:
	Inherits: ^BuildingHusk
	Interactable:
		Bounds: 72,48
	Building:
		Footprint:  xxx xxx
		Dimensions: 3,2
		LocalCenterOffset: 0,-512,0
	Tooltip:
		Name: Tech Center (Destroyed)
	RenderSprites:
		Image: miss.husk

TMPL:
	Inherits: ^BaseBuilding
	Inherits@IDISABLE: ^DisabledOverlay
	Inherits@shape: ^3x2Shape
	HitShape:
		UseTargetableCellsOffsets: false
		TargetableOffsets: 0,0,0, 0,-896,0, 0,896,0, 840,0,0, -706,0,0, -706,-768,0, -706,640,0
	Valued:
		Cost: 3000
	Tooltip:
		Name: Temple of Nod
    TooltipExtras:
        Strengths:  Unlocks production of Stealth Tank, Commanche, Nod Commando,\nObelisk of Light and Nod Research Laboratory
        Upgrades:  Researches Nod Upgrades
        Specialabilities:  Special Ability: Nuclear Strike\nLaunches a devastating atomic bomb at target location.\n(requires Nod Research Laboratory)
	Buildable:
		BuildPaletteOrder: 11
		BuildLimit: 1
		Prerequisites: vehicleproduction, hq, ~techlevel.high
		Queue: Building.Nod
		Description:  The centre of Nod command and research computing.\nMaximum one can be built.
	Building:
		Footprint: xxx xxx ===
		Dimensions: 3,3
		LocalCenterOffset: 0,-512,0
	Selectable:
		Bounds: 72,48
		DecorationBounds: 72,68,0,-12
	Health:
		HP: 200000
	Armor:
		Type: Structure
	RevealsShroud:
		Range: 4c0
	NukePower:
		OrderName: NukeMissile
		PauseOnCondition: lowpower
		Prerequisites: ~nbio, ~techlevel.unrestricted
		Icon: abomb
		Cursor: nuke
		ChargeInterval: 13500
		Description: Nuclear Strike
		LongDesc: Launch a tactical nuclear warhead.\nApplies heavy damage over a large area.
		EndChargeSpeechNotification: NuclearWeaponAvailable
		SelectTargetSpeechNotification: SelectTarget
		InsufficientPowerSpeechNotification: InsufficientPower
		LaunchSpeechNotification: NuclearWeaponLaunched
		IncomingSpeechNotification: NuclearWarheadApproaching
		MissileWeapon: atomic
		MissileDelay: 11
		SpawnOffset: 3c0,0,-1c512
		DisplayTimerRelationships: Ally, Neutral, Enemy
		DisplayBeacon: True
		BeaconPoster: atomic
		BeaconPosterPalette: beaconposter
		DisplayRadarPing: True
		CameraRange: 10c0
        CameraRemoveDelay: 50
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		SupportPowerPaletteOrder: 1
	WithBuildingBib:
	WithSupportPowerActivationAnimation:
		RequiresCondition: !build-incomplete
	WithSupportPowerActivationOverlay:
		RequiresCondition: !build-incomplete
		Sequence: smoke
	SupportPowerChargeBar:
	Power:
		Amount: -150
		RequiresCondition: !build-incomplete
	ProvidesPrerequisite@buildingname:
	SpawnActorOnDeath:
		Actor: tmpl.husk
        EffectiveOwnerFromOwner: true
	Production:
		Produces: Upgrades.Nod
		PauseOnCondition: build-incomplete
	ProductionQueue@TechNod:
		Type: Upgrades.Nod
		DisplayOrder: 6
		Factions: nod
		Group: Upgrades
		LowPowerModifier: 150
		ReadyAudio: UpgradeReady
		BlockedAudio: NoBuild
		LimitedAudio: UpgradeInProgress
		QueuedAudio: Upgrading
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
	ProductionBar@TechNod:
		ProductionType: Upgrades.Nod
        Color: 5050FC
	Exit:
	ProvidesPrerequisite:
		Prerequisite: anytier3

TMPL.Husk:
	Inherits: ^BuildingHusk
	Interactable:
		Bounds: 72,48
	Building:
		Footprint: xxx xxx ===
		Dimensions: 3,3
		LocalCenterOffset: 0,-512,0
	Tooltip:
		Name: Temple of Nod (Destroyed)
	RenderSprites:
		Image: tmpl.husk

NBIO:
	Inherits: ^BaseBuilding
	Inherits@IDISABLE: ^DisabledOverlay
	Inherits@shape: ^2x2Shape
	ActorPreviewPlaceBuildingPreview:
		Animated: false
	SelectionDecorations:
	Selectable:
		Bounds: 48,48
	Building:
		Footprint: xx xx
		Dimensions: 2,2
	Health:
		HP: 90000
	Armor:
		Type: Structure
	Buildable:
		BuildPaletteOrder: 12
		BuildLimit: 1
		Prerequisites: tmpl, ~techlevel.high
		Queue: Building.Nod
		Description:  Vital research facility of the Nod.\nMaximum one can be built.
	Tooltip:
		Name: Nod Research Laboratory
    TooltipExtras:
        Strengths:  Enables production of SSM Launcher,\nChemical Trooper and Chemical Mortar
        Weaknesses:  Requires Power to operate
        Attributes:  Enables Nuclear Strike at Temple of Nod
	Valued:
		Cost: 1000
	ProvidesPrerequisite@buildingname:
	WithIdleOverlay@SMOKE:
		Sequence: idle-smoke
		RequiresCondition: !build-incomplete && !lowpower
	Power:
		Amount: -50
		RequiresCondition: !build-incomplete
	RevealsShroud:
		Range: 3c0
	WithBuildingBib:
	SpawnActorOnDeath:
		Actor: nbio.husk
		EffectiveOwnerFromOwner: true
	GrantConditionOnPowerState@LOWPOWER:
		Condition: lowpower
		ValidPowerStates: Low, Critical
	RenderSprites:
		Image: bio

NBIO.Husk:
	Inherits: ^BuildingHusk
	Interactable:
		Bounds: 48,48
	Building:
		Footprint: xx xx
		Dimensions: 2,2
	Tooltip:
		Name: Nod Research Laboratory (Destroyed)
	RenderSprites:
		Image: bio.husk

INFANTRYPRODUCTION:
	AlwaysVisible:
	Interactable:
	Tooltip:
		Name: Infantry Production
	Buildable:
		Description: Infantry Production

VEHICLEPRODUCTION:
	AlwaysVisible:
	Interactable:
	Tooltip:
		Name: Vehicle Production
	Buildable:
		Description: Vehicle Production

ANYPOWER:
	AlwaysVisible:
	Interactable:
	Tooltip:
		Name: Power Plant
	Buildable:
		Description: Power Plant

ANYTIER3:
	AlwaysVisible:
	Interactable:
	Tooltip:
		Name: Tech Center or Temple of Nod
	Buildable:
		Description: Tech Center or Temple of Nod
